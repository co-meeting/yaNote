# yaNote v1.2.2

**yaNote** は、ブラウザ上で動作するジグザグ型ノートアプリです。  
ノード（メモ）を作成し、それらを自由に接続することで、情報を視覚的に整理できます。

📌 **[デモページ（GitHub Pages）](https://co-meeting.github.io/yaNote/)**  
👉 **ブラウザで今すぐ試せます！**  

📖 **[ヘルプページ](help.md)**  
👉 **使い方の詳細はこちら！**  

---

## 🚀 アップデート情報 (v1.2.2)
- **開発ガイドラインを適用**
  - **コメントの徹底**
  - **モジュール化（IIFE適用）**
  - **一元管理された定数（VERSION、DEBUG）**
- **ログ機能（`Logger` クラス）を追加**
- **エクスポート・インポートの安定性向上**
- **ローカルストレージの保存データバージョン管理**
- **UIの改良**
  - コントロールパネルのデザイン整理
  - エクスポート時のファイル名に日付を含めるよう変更
- **パフォーマンス最適化**
  - **`requestAnimationFrame` を活用**
  - **選択・移動処理の負荷軽減**
- **複数タブ同期の改善**
  - **他のタブでデータが変更された際に自動リロード**

---

## 📌 主な機能

### 📝 ノードの作成・編集
- **ダブルクリックでノードを作成**
- **Enterキー2回押下で編集完了**
- **ドラッグでノードを移動可能**

### 📍 ノードの接続
- **ドラッグ＆ドロップでノード同士を接続**
- **未接続の線を自由に移動可能**
- **接続線の端点をドラッグして再接続可能**

### 🎯 選択と削除
- **クリックで選択**
- **Shift + クリックで複数選択**
- **Delete / Backspace で削除**
- **ラバーバンド選択対応（ドラッグで範囲選択）**

### 🔄 Undo / Redo
- **Ctrl + Z / Cmd + Z** → 元に戻す
- **Ctrl + Y / Cmd + Y** → やり直し

### 🔀 エクスポート・インポート機能（強化）
- **ノードと接続情報を JSON 形式でエクスポート**
- **エクスポート時にファイル名に日付を含める**
- **エクスポートしたデータをインポート可能**
- **ローカルストレージにも自動保存**
- **複数タブ間のデータ同期対応（安定性向上）**

### 🛠 コントロールパネル
- **「初期状態に戻す」ボタン**
- **「エクスポート」ボタン**
- **「インポート」ボタン（ファイル選択UI改良）**

📖 **詳しい使い方は [ヘルプページ](help.md) をご覧ください！**

---

## 🛠 技術詳細
- **言語**: HTML, CSS, JavaScript
- **レンダリング最適化**:
  - **ノード座標を `transform` で管理**
  - **未接続線のドラッグ移動をサポート**
  - **`requestAnimationFrame` を活用**
- **データ管理**
  - **ローカルストレージ保存**
  - **JSON形式でのエクスポート・インポート**
  - **複数タブ間のデータ同期（改良版）**

---

## 🔧 クラス構成
| クラス名        | 説明 |
|---------------|----------------|
| `YaNoteApp`   | アプリ全体の管理 |
| `NoteNode`    | ノードオブジェクト (`transform` ベースの座標管理) |
| `Connection`  | 接続線オブジェクト（未接続線のドラッグ対応） |
| `Logger`      | **新規追加: デバッグ用ログ出力** |
| `Utils`       | 幾何計算・座標処理 |

---

## 📌 v1.2.1 → v1.2.2 の変更点
| 機能 | v1.2.1 | v1.2.2 |
|------|------|------|
| 開発ガイドライン | なし | **適用（コメントの徹底・モジュール化）** |
| ログ機能 | なし | **追加（`Logger` クラス）** |
| エクスポート | JSON形式対応 | **ファイル名に日付を追加** |
| インポート | JSON形式対応 | **データバージョンチェックを強化** |
| ローカルストレージ | 保存対応 | **バージョン管理を追加** |
| 複数タブ同期 | 変更時リロード | **安定性向上** |

---

## 🚀 今後のロードマップ
- 🎨 **ノードの色変更機能**
- 📂 **エクスポート形式の拡張（PNG / SVG）**
- 📱 **モバイル対応の強化**
- 🔀 **ノードのグループ化**
- 🖼 **ミニマップの実装**

---

## 📜 ライセンス
MIT License
