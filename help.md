# yaNote ヘルプ

**yaNote** は、ブラウザ上で動作するジグザグ型ノートアプリです。  
このヘルプページでは、yaNote の基本的な使い方から応用的な機能まで解説します。

---

## 🚀 基本操作

### ノードの作成・編集

- **ノードの作成**:  
  キャンバス上の空白部分を **ダブルクリック** すると、その位置に新しいノードが作成されます。
- **ノードの編集**:  
  既存のノードを **ダブルクリック** すると編集モードになり、テキスト入力が可能です。  
  編集終了は **Enterキーを2回連続で押す** か、ノード外をクリックします。
- **テキストの改行**:  
  編集中に **Shiftキー + Enterキー** を押すと、改行を挿入できます。
- **ノードの移動**:  
  ノードを **ドラッグ** して自由に移動できます。
- **ノードの削除**:  
  ノードを選択状態にした後、 **Delete** または **Backspace** キーを押すと削除されます。

### 線の作成・編集

- **線の作成方法1**:  
  ノードをダブルクリックした際、2回目のクリックでマウスボタンを押しながらドラッグすると、そのノードから新しい線が引かれます。
- **線の作成方法2**:  
  キャンバスの空白部分をダブルクリックしながらドラッグすると、ドラッグ開始位置から新しい線が引かれます。
- **線の接続変更**:  
  線の端点に表示される小さなハンドル（円）をドラッグすることで、接続先を変更できます。
- **線の削除**:  
  線を選択状態にした後、 **Delete** または **Backspace** キーを押すと削除されます。

### 選択操作

- **単一選択**:  
  ノードや線をクリックすると選択状態になります。
- **複数選択**:  
  キャンバス上でドラッグして矩形（ラバーバンド）を作成するか、 **Shift + クリック** で複数の要素を選択できます。
- **選択解除**:  
  空白部分をクリックすることで、すべての選択が解除されます。

### キャンバス操作

- **キャンバスの移動（マウス）**:
  - 右クリックしながらドラッグすると、キャンバス全体を移動できます。
  - **マウスホイール**の回転で、縦方向に移動します。
  - **Shiftキー + マウスホイール**で横方向に移動できます.
- **キャンバスの移動（トラックパッド）**:
  - **二本指スクロール**で、任意方向に移動できます。
- **元に戻す/やり直し**:
  - **Ctrl+Z (Cmd+Z on Mac)** で直前の操作を取り消し、
  - **Ctrl+Y (Cmd+Y on Mac)** でやり直しが可能です。

---

## 🛠️ コントロールパネルの機能

画面右上にあるコントロールパネルには、以下のボタンがあります。

### 1. 太字ボタン「B」
- 選択中のノードのテキストを **太字** に切り替えます。
- 複数のノードを選択している場合は、一括で太字設定を変更できます。
- 選択状態でボタンがハイライトされると、対象ノードが太字になっていることを示します。
- ノードが選択されていない場合は、このボタンは無効化されます。

### 2. ノード種類変更ボタン「◻︎」
- 選択中のノードの種類を切り替えます。
- **標準ノード**: 背景色と枠線あり  
- **テキスト専用ノード**: 背景色と枠線なし  
- **グレーノード**・**赤ノード**: 新たに追加されたタイプです。
- 何も選択されていない場合は、新規作成時のデフォルトノード種類が変更されます。
- ボタン自体は、現在のノード種類を視覚的に示す色とテキストで表示されます。

### 3. 線種変更ボタン「→, —, ←, ↔」
- 線種を変更します。ボタンの表示は現在の線種を示します。
- **標準矢印（→）**: 終点に矢印がある通常の線  
- **矢印なし（—）**: 矢印のない単純な線  
- **逆矢印（←）**: 始点に矢印がある線  
- **両方向矢印（↔）**: 始点と終点両方に矢印がある線  
- 何も選択していない場合は、新規作成時のデフォルト線種が変更されます。

### 4. 点線切替ボタン「—, ‥」
- 線を **実線** と **点線** で切り替えます。  
- 実線（—）は途切れのない連続した線、点線（‥）は破線を表します。
- 選択中の線のタイプが変更され、ボタンは選択状態を示します。
- 何も選択していない場合は、新規作成時のデフォルト線タイプが変更されます。

### 5. その他のボタン
- **「新規」ボタン**:  
  すべてのノードと線を削除し、初期状態に戻します。
- **「開く」ボタン**:  
  以前に保存した JSON ファイルをインポートしてデータを復元します。
- **「保存」ボタン**:  
  現在の状態を JSON ファイルとしてエクスポートします（ファイル名に日付と時刻が含まれます）。

---

## 🔍 便利な使い方のヒント

### 1. ツールチップの活用
- 各ボタンにマウスを合わせると、現在の設定状態や操作ヒントがツールチップで表示されます。

### 2. 複数選択と一括編集の効率化
- ラバーバンド選択（ドラッグで矩形選択）や **Shift + クリック** により、複数のノードや線を同時に選択できます。
- 選択した要素に対して、一括でノード種類や太字設定、線種・線タイプの変更が可能です。

### 3. テキスト改行の活用
- **Shift+Enter** を使って改行を挿入し、複数行のノートを作成できます。  
  ノードの高さは自動で調整され、長文の整理に便利です。

### 4. キャンバス移動の操作性向上
- マウスホイールや **Shift + ホイール**、トラックパッドの二本指スクロールを利用して、キャンバスを自在に移動できます。

### 5. 線種と線タイプの使い分け
- **線種**は、ノード間の関係性（因果関係、逆方向の依存、双方向など）を視覚的に表現します。  
- **線タイプ**は、関係性の強さや補足情報の違いを示すため、実線と点線を使い分けます。

### 6. テキストのみノードの活用
- 背景や枠線がないシンプルなノードは、補足説明や注釈に最適です。

### 7. 太字機能の活用
- 重要なキーワードや概念を太字にすることで、情報の階層が明確になり、全体の構造が把握しやすくなります。

### 8. 情報の階層化と視覚的整理
- 主要な関係性には実線、補足的な関係には点線を使用するなど、線種と線タイプを使い分けると、視覚的に情報の重要度が区別できます。

---

## 🔄 データの保存とインポート

### 自動保存機能
- yaNote は操作のたびに自動的にローカルストレージに保存され、ブラウザを閉じても次回アクセス時に前回の状態が復元されます。

### ファイルとしての保存
1. **「保存」ボタン**をクリックします。
2. ファイル名が自動的に日付と時刻を含んで生成され、保存されます。

### ファイルのインポート
1. **「開く」ボタン**をクリックします。
2. 以前に保存した JSON ファイルを選択します。
3. yaNote が自動的にデータを読み込み、キャンバスに表示します。

---

## 🔧 トラブルシューティング

### ブラウザのサポート
- yaNote は最新のブラウザでの動作を想定しています。問題が発生した場合は、ブラウザを最新バージョンに更新してください。

### データのバックアップ
- 定期的に **「保存」ボタン** を使用して、データをエクスポートしてバックアップすることを推奨します。
- ブラウザのキャッシュクリアにより、ローカルストレージのデータが失われる場合があるためご注意ください。

### 旧バージョンのデータ
- 古いバージョンの yaNote で作成されたデータは自動的にマイグレーションされます。  
  万が一互換性に問題がある場合は、最新バージョンで開いた後、再度保存してください。

### マウスホイールとトラックパッドの操作
- マウスホイールやトラックパッドの感度は環境によって異なる場合があります。  
  必要に応じて、ブラウザやシステムのスクロール設定を調整してください。
