# yaNote ヘルプ (v1.2.13)

**yaNote** は、ブラウザ上で動作するジグザグ型ノートアプリです。  
このヘルプでは、yaNote の基本操作と、v1.2.13 で追加・改善された機能について解説します。

---

## 1. 基本操作

### ノードの作成・編集
- **ノードの作成**  
  - キャンバスの空白部分をダブルクリックするか、または Ctrl/Cmd+Enter のショートカットで、その位置に新しいノードが作成されます。  
  - 新規作成されるノードは、既定では「点線 (dotted)」タイプになります。
  
- **ノードの編集**  
  - ノードをクリック、または選択状態で「e」キーを押すと編集モードに入ります。  
  - 編集中は、元の Markdown 形式のテキスト（およびプレーンな URL）がプレーンテキストとして表示されます。  
  - 編集完了は Enter キーを 2 回押すか、他のノードが選択されたときに自動的に確定されます。  
  - Shift+Enter により、改行も入力可能です。

### ノードの移動・削除
- **移動**  
  ノードはドラッグ＆ドロップで自由に移動できます。
  
- **削除**  
  選択状態のノードは Backspace または Delete キーで削除できます。

---

## 2. ノードの種類とリンク自動変換機能

yaNote では以下のノードタイプが利用可能です：
- **標準 (standard)**
- **テキスト専用 (text-only)**
- **グレー (grey)**
- **赤 (red)**
- **点線 (dotted)**

### リンク自動変換機能
- **Markdown 記法によるリンク変換**  
  ノード内のテキストに `[リンクテキスト](https://example.com)` のような正しい Markdown 記法で記述されている場合、編集完了時に自動で HTML の `<a>` タグに変換されます。  
  リンクは新しいタブで開かれるよう `target="_blank"` が付与されます。

- **プレーンな URL の自動リンク変換**  
  さらに、テキスト内に `http://` または `https://` で始まる URL が記述されている場合も自動的にリンクに変換されます。  
  URL が 30 文字を超える場合は、先頭 30 文字に「...」を付加して省略表示され、見た目の整ったリンクとなります。

---

## 3. ノードの接続と分岐作成

- **接続**  
  ノード同士はドラッグ＆ドロップで接続可能です。  
  接続線のスタイルは、接続元ノードの種類に応じて自動で設定されます。

- **分岐作成**  
  ノードからドラッグすることで分岐（子ノード）を作成できます。  
  分岐作成時には、接続線の種類（点線/実線、矢印の有無）が自動で調整されます。

---

## 4. キーボードショートカット

- **Ctrl/Cmd+Enter**  
  選択または編集中のノードの直下に、新規ノードを追加します。

- **e キー**  
  ノード選択時に「e」キーを押すと、そのノードが編集モードに切り替わります。  
  他のノードが選択された場合、編集中のノードは自動的に編集を終了します。

- **Shift+Enter**  
  編集中に改行を入力できます。

- **Ctrl/Cmd+Z / Ctrl/Cmd+Y**  
  Undo/Redo 操作が可能です。

- **Backspace / Delete**  
  選択したノードまたは接続線を削除します。

---

## 5. PWA (プログレッシブウェブアプリ) 対応

v1.2.13 では、PWA 対応のための基本的な機能も実装されています。  
- **Service Worker の登録**  
  アプリは Service Worker を利用しており、オフライン時でも一定の機能が利用可能です。  
  ※ 詳細な PWA 機能については、ブラウザの PWA 対応状況に依存します。

---

## 6. 状態管理とエクスポート／インポート

- **自動保存**  
  各操作終了時に、ノード、接続線、キャンバスのパン・ズーム状態がローカルストレージに保存されます。

- **エクスポート／インポート**  
  現在の状態を JSON 形式で保存・読み込みでき、複数タブ間の状態同期も行われます。

---

このヘルプは、v1.2.12 の基本機能を維持しつつ、v1.2.13 で追加されたリンク自動変換機能および PWA 対応を中心に説明しています。  
その他の操作や機能については、各種設定画面や操作マニュアルも合わせてご参照ください。

---

何かご不明点やご意見があれば、お気軽にお問い合わせください。